#define PG0 0xB8
#define PG6 0xBE
#define LCD P0
#define ST_ADD 0x40
code unsigned char char_c_arr[][6]={/*A*/0xfe,0x11,0x11,0x11,0xfe,0x00,/*B*/0xff,0x91,0x91,0x91,0x6e,0x00,/*C*/0x7e,0x81,0x81,0x81,0x42,0x00,/*D*/0xff,0x81,0x81,0x81,0x7e,0x00,/*E*/0xff,0x91,0x91,0x91,0x81,0x00,   
								  /*F*/0xff,0x09,0x09,0x01,0x01,0x00,/*G*/0x7e,0x81,0x81,0x91,0x73,0x00,/*H*/0xff,0x10,0x10,0x10,0xff,0x00,/*I*/0x00,0x81,0xff,0x81,0x00,0x00,/*J*/0x60,0x80,0x80,0x81,0x7f,0x00,
								  /*K*/0xff,0x18,0x3c,0x66,0xc3,0x00,/*L*/0xff,0x80,0x80,0x80,0xc0,0x00,/*M*/0xff,0x06,0x08,0x06,0xff,0x00,/*N*/0xff,0x06,0x18,0x60,0xff,0x00,/*O*/0x7e,0x81,0x81,0x81,0x7e,0x00,    
								  /*P*/0xff,0x09,0x09,0x09,0x06,0x00,/*Q*/0x3e,0x41,0xc1,0xc1,0x3e,0x00,/*R*/0xff,0x11,0x31,0x51,0x8e,0x00,/*S*/0xce,0x91,0x91,0x91,0x63,0x00,/*T*/0x03,0x01,0xff,0x01,0x03,0x00,
								  /*U*/0x7f,0x80,0x80,0x80,0x7f,0x00,/*V*/0x07,0x38,0xc0,0x38,0x07,0x00,/*W*/0x7e,0x80,0x70,0x80,0x7e,0x00,/*X*/0xc3,0x66,0x18,0x66,0xc3,0x00,/*Y*/0x03,0x0c,0xf0,0x0c,0x03,0x00,
								  /*Z*/0x81,0xe1,0x99,0x87,0x81,0x00};
code unsigned char char_s_arr[][5]={/*a*/0xff,0x91,0x91,0x91,0x6e,/*b*/0xff,0x91,0x91,0x91,0x6e,/*c*/0x7e,0x81,0x81,0x81,0x42,/*d*/0xff,0x81,0x81,0x81,0x7e,/*e*/0xff,0x91,0x91,0x91,0x81,   
								  /*f*/0xff,0x09,0x09,0x01,0x01,/*g*/0x7e,0x81,0x81,0x91,0x73,/*h*/0xff,0x10,0x10,0x10,0xff,/*i*/0x00,0x81,0xff,0x81,0x00,/*j*/0x60,0x80,0x80,0x81,0x7f,
								  /*k*/0xff,0x18,0x3c,0x66,0xc3,/*l*/0xff,0x80,0x80,0x80,0xc0,/*m*/0xff,0x06,0x08,0x06,0xff,/*n*/0xff,0x06,0x18,0x60,0xff,/*o*/0x7e,0x81,0x81,0x81,0x7e,    
								  /*p*/0xff,0x09,0x09,0x09,0x06,/*q*/0x3e,0x41,0xc1,0xc1,0x3e,/*r*/0xff,0x11,0x31,0x51,0x8e,/*s*/0xce,0x91,0x91,0x91,0x63,/*t*/0x03,0x01,0xff,0x01,0x03,
								  /*u*/0x7f,0x80,0x80,0x80,0x7f,/*v*/0x07,0x38,0xc0,0x38,0x07,/*w*/0x7e,0x80,0x70,0x80,0x7e,/*x*/0xc3,0x66,0x18,0x66,0xc3,/*y*/0x03,0x0c,0xf0,0x0c,0x03,
								  /*z*/0x81,0xe1,0x99,0x87,0x81};
code unsigned char space[6]={0x00,0x00,0x00,0x00,0x00,0x00};
code unsigned char colon[6]={0x00,0x00,0x24,0x00,0x00,0x00};
code unsigned char digit_arr[10][6]={/*0*/ 0xff,0x81,0x81,0x81,0xff,0x00, /*1*/  0x80,0x82,0xff,0x80,0x80,0x00,
									 /*2*/ 0xf9,0x89,0x89,0x89,0x8f,0x00, /*3*/	 0x89,0x89,0x89,0x89,0xff,0x00,
									 /*4*/ 0x0f,0x08,0x08,0x08,0xff,0x00, /*5*/  0x8f,0x89,0x89,0x89,0xf9,0x00,
									 /*6*/ 0xff,0x89,0x89,0x89,0xf9,0x00, /*7*/  0x01,0x01,0x01,0x01,0xff,0x00,
									 /*8*/ 0xff,0x89,0x89,0x89,0xff,0x00, /*9*/  0x9f,0x91,0x91,0x91,0xff,0x00
									};

void c_select(unsigned char chip){
	if(chip==0){
		CS1=CS2=0;
	}
	else if(chip==1){
	 CS1=1;CS2=0;
	}
	else if(chip==2){
	 CS1=0;CS2=1;
	}
	else if(chip==3){
	 CS1=1;CS2=1;
	}
}
void gwrite(unsigned char cmd){
	RW=0;
	LCD=cmd;
	EN=1;
	EN=0;
}

void gcmd(unsigned char cmd,unsigned char c){
	c_select(c);
	RS=0;
	gwrite(cmd);
}

void gdata(unsigned char dta){
	RS=1;
	gwrite(dta);
}
void dinit(){
		RST=1;
		RST=0;
		gcmd(0x3e,3);//Display  off 
		gcmd(0x3f,3);//Display on 
		gcmd(0x40,3);//starting of lcd on horizonatal of page
		gcmd(0xB8,3);///page value..1011 1xxx
		gcmd(0xc0,3);//vertical of line
}

void clrscreen(){
	unsigned char i,j;
	for(i=0;i<7;i++){
			gcmd(PG0+i,3);
			gcmd(0x40,3);
		for(j=0;j<64;j++)
			gdata(0x00);
	}
}
void clrpage(unsigned char i,unsigned char c){
	unsigned char j;
	gcmd(PG0+i,c);
	gcmd(ST_ADD,c);
	for(j=0;j<64;j++)
			gdata(0x00);
}
void string(char *p){
	unsigned char i,j;	
	for(i=0;p[i];i++)
		for(j=0;j<6;j++){
				if(p[i]>='A'&&p[i]<='Z')
						gdata(char_c_arr[p[i]-65][j]);
				else if(p[i]>='a' && p[i]<='z')
						gdata(char_s_arr[p[i]-97][j]);
				else if(p[i]>='0' && p[i]<='9')
						gdata(digit_arr[p[i]-48][j]);
				else if(p[i]==' ')
						gdata(space[j]);
				else if(p[i]==':')
						gdata(colon[j]);
			}
}	
void sdigit(unsigned char i){
 unsigned char j;
 for(j=0;j<6;j++)
 	gdata(digit_arr[i][j]);
}