//1.	Write  8051 assembly programs to create  generate a square wave of duty cycles 25%.
LCD EQU P0
RS BIT P3.4
RW BIT P3.5
EN BIT P3.6
LED1 BIT P1.0
CSEG AT 1000H
	DB 0XFF,0X10,0X10,0X10,0X10,0X10,0X10,0X10,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0X10,0X10,0X10,0X10,0X10,0X10,0X10,0XFF
	
CSEG AT 00H
	AJMP MAIN
CSEG AT 100H
DELAY:
	MOV TMOD,#0X01
	MOV TH0,#(64548>>8)
	MOV TL0,#(64548& 0XFF)
	SETB TR0
	JNB TF0,$
	CLR TR0
	CLR TF0
	RET
CMD:
	MOV LCD,R5
	CLR RS
	CLR RW
	SETB EN
	ACALL DELAY
	CLR EN
	RET
DIS:
	MOV LCD,A
	SETB RS
	CLR RW
	SETB EN
	ACALL DELAY
	CLR EN
	RET
	
INI:
	MOV R5,#0X01
	ACALL CMD
	MOV R5,#0X02
	ACALL CMD
	MOV R5,#0X06
	ACALL CMD
	MOV R5,#0X0C
	ACALL CMD
	MOV R5,#0X38
	ACALL CMD
	MOV R5,#0X80
	ACALL CMD
	RET
MINI:
	MOV DPTR,#1000H
	MOV R6,#24
	MOV R5,#0X40
	ACALL CMD
LOOP1:CLR A
	MOVC A,@A+DPTR
	ACALL DIS
	INC DPTR
	DJNZ R6,LOOP1
	RET
	
CSEG AT 50H
MAIN:
	ACALL INI
	ACALL MINI
	MOV R5,#0X80
	ACALL CMD

LOOP:MOV A,#0
	ACALL DIS
	ACALL DELAY
	MOV A,#2
	ACALL DIS
	ACALL DELAY
	MOV A,#1
	ACALL DIS
	ACALL DELAY
	MOV A,#1
	ACALL DIS
	ACALL DELAY
	SJMP LOOP
END
