RS BIT P3.4
RW BIT P3.5
EN BIT P3.6
LCD EQU P0

CSEG AT 00H
	AJMP MAIN

CSEG AT 0200H
	DB "ABCDEFGHIJKLMNOPQRSTUVWXYZ"

CSEG AT 0100H
DELAY:
	MOV R6,#1
LOO:MOV R5,#250
   	DJNZ R5,$
   	MOV R5,#249
   	DJNZ R5,$
	DJNZ R6,LOO
	RET

DISPLAY:
  	MOV LCD,A
  	SETB RS
  	CLR RW
  	SETB EN
  	ACALL DELAY
	CLR EN
	RET

DIS_CMD:
  	MOV LCD,R0
  	CLR RS
  	CLR RW
  	SETB EN
  	ACALL DELAY
  	CLR EN
  	RET
DIS_INIT:
	MOV R0,#0X01
	ACALL DIS_CMD
	MOV R0,#0X02
	ACALL DIS_CMD
    MOV R0,#0X06
	ACALL DIS_CMD
	MOV R0,#0X0C
	ACALL DIS_CMD
	MOV R0,#0X38
	ACALL DIS_CMD
	MOV R0,#0X80
	RET

CSEG AT 0050H
MAIN:

	MOV DPTR,#0200H
	MOV R1,#00H
	MOV R2,#26
	MOV R4,#00
		ACALL DIS_INIT
LOOP:
	MOV A,R1
	MOVC A,@A+DPTR
	ACALL DISPLAY
	INC R1
	CJNE R4,#15,HERE
	 MOV R0,#0X0C
	 ACALL DIS_CMD
	MOV R4,#00
HERE:
	INC R4
	DJNZ R2,LOOP
	SJMP $
END
